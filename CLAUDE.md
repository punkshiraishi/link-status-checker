# Link Picker Chrome Extension コーディングガイドライン

このドキュメントは、Link Picker Chrome拡張機能のコードレビュー時にClaudeが参照するガイドラインです。

## プロジェクト概要

Link Pickerは、ウェブページ内のリンクのHTTPステータスコードをチェックするChrome拡張機能です。ウェブサイト管理者やコンテンツ制作者が、ページ内のリンク切れや無効なリンクを効率的に発見・修正できるツールです。

## コーディング規約

### TypeScript
- 厳格な型定義を使用し、`any`型の使用は避ける
- インターフェースと型エイリアスを適切に使い分ける
- Optional chainingとnullish coalescingを活用する
- 型推論が明確な場合を除き、明示的な型注釈を使用する

### React
- 関数コンポーネントとHooksを使用する
- カスタムHooksで複雑なロジックを分離する
- メモ化（`useMemo`, `useCallback`）を適切に使用する
- Props型は明確に定義する

### Chrome Extension API
- Manifest V3の仕様に準拠する
- 権限は最小限に抑える
- メッセージパッシングでの通信を適切に型定義する
- バックグラウンドスクリプトとコンテンツスクリプトの役割を明確に分離する

### セキュリティとプライバシー
- ユーザーデータを収集・保存しない
- 外部サーバーへの不要な通信を行わない
- XSS対策を徹底する（innerHTML の使用を避ける）
- CSP（Content Security Policy）に準拠する

### パフォーマンス
- 大量のリンクを効率的に処理する
- 非同期処理を適切に実装する
- リソースの使用を最小限に抑える
- メモリリークを防ぐ

### コード品質
- 関数は単一責任の原則に従う
- DRY原則を守る（重複コードを避ける）
- エラーハンドリングを適切に実装する
- コメントは「なぜ」を説明する（「何を」ではなく）

### テスト
- ユニットテストを作成する
- 境界値とエッジケースをテストする
- モックを適切に使用する

### 国際化
- 日本語と英語の両方をサポートする
- Chrome i18n APIを使用する
- UIテキストはハードコーディングしない

## レビュー時の重点項目

1. **型安全性**: TypeScriptの型システムを最大限活用しているか
2. **拡張機能のベストプラクティス**: Chrome Extension APIの適切な使用
3. **パフォーマンス**: 大量のリンクでも快適に動作するか
4. **ユーザビリティ**: 直感的で使いやすいUIか
5. **保守性**: 将来の拡張や修正が容易か

## 禁止事項

- ユーザーの個人情報を収集・送信するコード
- 広告やトラッキングに関連するコード
- 不必要な外部ライブラリの追加
- グローバル変数の濫用
- 同期的なXHRリクエスト